(self["webpackChunkquasar_movies"]=self["webpackChunkquasar_movies"]||[]).push([[710],{217:(a,e,t)=>{"use strict";t.d(e,{O:()=>r});var l=t(52),n=t.n(l),o=t(1959),s=t(3673);function r(a){const e=(0,o.iH)(!1),t=(0,o.iH)(!1),l=(0,o.iH)(0),r=(0,o.iH)(1),i=(0,o.iH)(null),c=async o=>{try{e.value=!0;const t=await n().get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=${a}&page=${o}`,{headers:{"Content-Type":"application/json","X-API-KEY":"1220afbe-7495-4b15-b248-073dbf409499"}});i.value=t.data.films,l.value=t.data.pagesCount}catch(t){t.value=!0}finally{e.value=!1}};return(0,s.bv)(c(r.value)),(0,s.YP)(r,c),{loading:e,error:t,films:i,totalPage:l,current:r,loadData:c}}},6005:(a,e,t)=>{"use strict";t.d(e,{Z:()=>v});var l=t(3673),n=t(2323);const o={class:"q-pa-md"},s={class:"row items-start q-col-gutter-md"},r={class:"absolute-bottom blur-bg"},i={class:"text-capacitor btn-link"};function c(a,e,t,c,m,d){const u=(0,l.up)("q-card-actions"),p=(0,l.up)("q-img"),g=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)("div",o,[(0,l.Wm)("div",s,[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(a.films,(e=>((0,l.wg)(),(0,l.j4)("div",{class:"col-12 col-sm-6 col-md-4 col-lg-2",key:e.filmId},[(0,l.Wm)("div",{class:"my-card",onClick:t=>a.handleFilm(e.filmId,e.iframe_src)},[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{height:"350px",alt:e.ru_title,loading:"lazy","spinner-color":"accent",src:e.posterUrlPreview},{default:(0,l.w5)((()=>[(0,l.Wm)("div",r,[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)("div",i,(0,n.zw)(e.nameRu)+" / "+(0,n.zw)(e.nameEn),1)])),_:2},1024)])])),_:2},1032,["alt","src"])])),_:2},1024)],8,["onClick"])])))),128))])])}const m=(0,l.aZ)({name:"CardKinopoisk",props:["films"],setup(a){console.log(a)},methods:{handleFilm(a,e){this.$store.commit("kinopoiskId/SET_ID",a),this.$store.commit("iframe/SET_IFRAME",e),this.$router.push({name:"Фильм",params:{id:a}})}}});var d=t(151),u=t(4152),p=t(9367),g=t(7518),f=t.n(g);m.render=c;const v=m;f()(m,"components",{QCard:d.Z,QImg:u.Z,QCardActions:p.Z})},1280:(a,e,t)=>{"use strict";t.d(e,{Z:()=>p});var l=t(3673);const n={class:"q-pa-md"},o={class:"row items-start q-col-gutter-md"};function s(a,e,t,s,r,i){const c=(0,l.up)("q-skeleton"),m=(0,l.up)("q-item-section"),d=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)("div",n,[(0,l.Wm)("div",o,[((0,l.wg)(),(0,l.j4)(l.HY,null,(0,l.Ko)(18,((a,e)=>(0,l.Wm)("div",{class:"col-12 col-sm-6 col-md-4 col-lg-2",key:e},[(0,l.Wm)(d,{lass:"my-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{height:"350px",animation:"wave"})])),_:1})])),_:1})]))),64))])])}const r=(0,l.aZ)({name:"CardLoader"});var i=t(151),c=t(2035),m=t(4103),d=t(7518),u=t.n(d);r.render=s;const p=r;u()(r,"components",{QCard:i.Z,QItemSection:c.Z,QSkeleton:m.ZP})},6710:(a,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>v});var l=t(3673);const n={key:0},o={key:1},s={class:"q-pa-lg flex flex-center"};function r(a,e,t,r,i,c){const m=(0,l.up)("card-kinopoisk"),d=(0,l.up)("card-loader"),u=(0,l.up)("q-pagination"),p=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(p,{padding:""},{default:(0,l.w5)((()=>[!1===r.loading?((0,l.wg)(),(0,l.j4)("div",n,[(0,l.Wm)(m,{films:r.films},null,8,["films"])])):((0,l.wg)(),(0,l.j4)("div",o,[(0,l.Wm)(d)])),(0,l.Wm)("div",s,[(0,l.Wm)(u,{modelValue:r.current,"onUpdate:modelValue":e[1]||(e[1]=a=>r.current=a),color:"accent",max:r.totalPage,"max-pages":4,"boundary-numbers":!0},null,8,["modelValue","max"])])])),_:1})}var i=t(217),c=t(6005),m=t(1280);const d={components:{CardKinopoisk:c.Z,CardLoader:m.Z},setup(){const a="TOP_100_POPULAR_FILMS",{loading:e,error:t,films:l,totalPage:n,current:o}=(0,i.O)(a);return{current:o,loading:e,error:t,films:l,totalPage:n}}};var u=t(4379),p=t(7300),g=t(7518),f=t.n(g);d.render=r;const v=d;f()(d,"components",{QPage:u.Z,QPagination:p.Z})}}]);