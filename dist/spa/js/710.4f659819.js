(self["webpackChunkquasar_movies"]=self["webpackChunkquasar_movies"]||[]).push([[710],{217:(a,t,e)=>{"use strict";e.d(t,{O:()=>r});var n=e(52),l=e.n(n),o=e(1959),s=e(3673);function r(a){const t=(0,o.iH)(!1),e=(0,o.iH)(!1),n=(0,o.iH)(0),r=(0,o.iH)(1),i=(0,o.qj)((0,o.iH)(null)),c=async o=>{try{t.value=!0;const e=await l().get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=${a}&page=${o}`,{headers:{"Content-Type":"application/json","X-API-KEY":"1220afbe-7495-4b15-b248-073dbf409499"}});i.value=e.data.films,n.value=e.data.pagesCount}catch(e){e.value=!0}finally{t.value=!1}};return(0,s.bv)(c(r.value)),(0,s.YP)(r,c),{loading:t,error:e,films:i,totalPage:n,current:r,loadData:c}}},7731:(a,t,e)=>{"use strict";e.d(t,{Z:()=>v});var n=e(3673),l=e(2323);const o={class:"q-pa-md"},s={class:"row items-start q-col-gutter-md"},r={class:"absolute-bottom blur-bg"},i={class:"text-capacitor btn-link"};function c(a,t,e,c,d,m){const u=(0,n.up)("q-card-actions"),p=(0,n.up)("q-img"),g=(0,n.up)("q-card");return(0,n.wg)(),(0,n.j4)("div",o,[(0,n.Wm)("div",s,[((0,n.wg)(!0),(0,n.j4)(n.HY,null,(0,n.Ko)(a.films,(t=>((0,n.wg)(),(0,n.j4)("div",{class:"col-12 col-sm-6 col-md-4 col-lg-2",key:t.filmId},[(0,n.Wm)("div",{onClick:e=>a.handleFilm(t.filmId)},[(0,n.Wm)(g,{class:"my-card"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{height:"350px",alt:t.ru_title,loading:"lazy","spinner-color":"accent",src:t.posterUrlPreview},{default:(0,n.w5)((()=>[(0,n.Wm)("div",r,[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)("div",i,(0,l.zw)(t.nameRu)+" / "+(0,l.zw)(t.nameEn),1)])),_:2},1024)])])),_:2},1032,["alt","src"])])),_:2},1024)],8,["onClick"])])))),128))])])}const d=(0,n.aZ)({name:"CardKinopoisk",props:["films"],methods:{handleFilm(a){this.$store.commit("kinopoiskId/SET_ID",a),this.$router.push({name:"Фильм",params:{id:a}})}}});var m=e(151),u=e(4152),p=e(9367),g=e(7518),f=e.n(g);d.render=c;const v=d;f()(d,"components",{QCard:m.Z,QImg:u.Z,QCardActions:p.Z})},7680:(a,t,e)=>{"use strict";e.d(t,{Z:()=>p});var n=e(3673);const l={class:"q-pa-md"},o={class:"row items-start q-col-gutter-md"};function s(a,t,e,s,r,i){const c=(0,n.up)("q-skeleton"),d=(0,n.up)("q-item-section"),m=(0,n.up)("q-card");return(0,n.wg)(),(0,n.j4)("div",l,[(0,n.Wm)("div",o,[((0,n.wg)(),(0,n.j4)(n.HY,null,(0,n.Ko)(20,((a,t)=>(0,n.Wm)("div",{class:"col-12 col-sm-6 col-md-4 col-lg-2",key:t},[(0,n.Wm)(m,{lass:"my-card"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{height:"350px",animation:"wave"})])),_:1})])),_:1})]))),64))])])}const r=(0,n.aZ)({name:"CardLoader"});var i=e(151),c=e(2035),d=e(4103),m=e(7518),u=e.n(m);r.render=s;const p=r;u()(r,"components",{QCard:i.Z,QItemSection:c.Z,QSkeleton:d.ZP})},6710:(a,t,e)=>{"use strict";e.r(t),e.d(t,{default:()=>v});var n=e(3673);const l={key:0},o={key:1},s={class:"q-pa-lg flex flex-center"};function r(a,t,e,r,i,c){const d=(0,n.up)("card-kinopoisk"),m=(0,n.up)("card-loader"),u=(0,n.up)("q-pagination"),p=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(p,{padding:""},{default:(0,n.w5)((()=>[!1===r.loading?((0,n.wg)(),(0,n.j4)("div",l,[(0,n.Wm)(d,{films:r.films},null,8,["films"])])):((0,n.wg)(),(0,n.j4)("div",o,[(0,n.Wm)(m)])),(0,n.Wm)("div",s,[(0,n.Wm)(u,{modelValue:r.current,"onUpdate:modelValue":t[1]||(t[1]=a=>r.current=a),color:"accent",max:r.totalPage,"max-pages":4,"boundary-numbers":!0},null,8,["modelValue","max"])])])),_:1})}var i=e(217),c=e(7731),d=e(7680);const m={components:{CardKinopoisk:c.Z,CardLoader:d.Z},setup(){const a="TOP_100_POPULAR_FILMS",{loading:t,error:e,films:n,totalPage:l,current:o}=(0,i.O)(a);return{current:o,loading:t,error:e,films:n,totalPage:l}}};var u=e(4379),p=e(7300),g=e(7518),f=e.n(g);m.render=r;const v=m;f()(m,"components",{QPage:u.Z,QPagination:p.Z})}}]);