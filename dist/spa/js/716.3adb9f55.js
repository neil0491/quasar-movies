(self["webpackChunkquasar_movies"]=self["webpackChunkquasar_movies"]||[]).push([[716],{217:(a,e,t)=>{"use strict";t.d(e,{O:()=>r});var o=t(52),l=t.n(o),n=t(1959),s=t(3673);function r(a){const e=(0,n.iH)(!1),t=(0,n.iH)(!1),o=(0,n.iH)(0),r=(0,n.iH)(1),i=(0,n.iH)(null),c=async n=>{try{e.value=!0;const t=await l().get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=${a}&page=${n}`,{headers:{"Content-Type":"application/json","X-API-KEY":"1220afbe-7495-4b15-b248-073dbf409499"}});i.value=t.data.films,o.value=t.data.pagesCount}catch(t){t.value=!0}finally{e.value=!1}};return(0,s.bv)(c(r.value)),(0,s.YP)(r,c),{loading:e,error:t,films:i,totalPage:o,current:r,loadData:c}}},6005:(a,e,t)=>{"use strict";t.d(e,{Z:()=>v});var o=t(3673),l=t(2323);const n={class:"q-pa-md"},s={class:"row items-start q-col-gutter-md"},r={class:"absolute-bottom blur-bg"},i={class:"text-capacitor btn-link"};function c(a,e,t,c,m,d){const u=(0,o.up)("q-card-actions"),p=(0,o.up)("q-img"),g=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)("div",n,[(0,o.Wm)("div",s,[((0,o.wg)(!0),(0,o.j4)(o.HY,null,(0,o.Ko)(a.films,(e=>((0,o.wg)(),(0,o.j4)("div",{class:"col-12 col-sm-6 col-md-4 col-lg-2",key:e.filmId},[(0,o.Wm)("div",{class:"my-card",onClick:t=>a.handleFilm(e.filmId,e.iframe_src)},[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(p,{height:"350px",alt:e.ru_title,loading:"lazy","spinner-color":"accent",src:e.posterUrlPreview},{default:(0,o.w5)((()=>[(0,o.Wm)("div",r,[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)("div",i,(0,l.zw)(e.nameRu)+" / "+(0,l.zw)(e.nameEn),1)])),_:2},1024)])])),_:2},1032,["alt","src"])])),_:2},1024)],8,["onClick"])])))),128))])])}const m=(0,o.aZ)({name:"CardKinopoisk",props:["films"],setup(a){console.log(a)},methods:{handleFilm(a,e){this.$store.commit("kinopoiskId/SET_ID",a),this.$store.commit("iframe/SET_IFRAME",e),this.$router.push({name:"Фильм",params:{id:a}})}}});var d=t(151),u=t(4152),p=t(9367),g=t(7518),f=t.n(g);m.render=c;const v=m;f()(m,"components",{QCard:d.Z,QImg:u.Z,QCardActions:p.Z})},1280:(a,e,t)=>{"use strict";t.d(e,{Z:()=>p});var o=t(3673);const l={class:"q-pa-md"},n={class:"row items-start q-col-gutter-md"};function s(a,e,t,s,r,i){const c=(0,o.up)("q-skeleton"),m=(0,o.up)("q-item-section"),d=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)("div",l,[(0,o.Wm)("div",n,[((0,o.wg)(),(0,o.j4)(o.HY,null,(0,o.Ko)(18,((a,e)=>(0,o.Wm)("div",{class:"col-12 col-sm-6 col-md-4 col-lg-2",key:e},[(0,o.Wm)(d,{lass:"my-card"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,{height:"350px",animation:"wave"})])),_:1})])),_:1})]))),64))])])}const r=(0,o.aZ)({name:"CardLoader"});var i=t(151),c=t(2035),m=t(4103),d=t(7518),u=t.n(d);r.render=s;const p=r;u()(r,"components",{QCard:i.Z,QItemSection:c.Z,QSkeleton:m.ZP})},7716:(a,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>v});var o=t(3673);const l={key:0},n={key:1},s={class:"q-pa-lg flex flex-center"};function r(a,e,t,r,i,c){const m=(0,o.up)("card-kinopoisk"),d=(0,o.up)("card-loader"),u=(0,o.up)("q-pagination"),p=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(p,{padding:""},{default:(0,o.w5)((()=>[!1===r.loading?((0,o.wg)(),(0,o.j4)("div",l,[(0,o.Wm)(m,{films:r.films},null,8,["films"])])):((0,o.wg)(),(0,o.j4)("div",n,[(0,o.Wm)(d)])),(0,o.Wm)("div",s,[(0,o.Wm)(u,{modelValue:r.current,"onUpdate:modelValue":e[1]||(e[1]=a=>r.current=a),color:"accent",max:r.totalPage,"max-pages":4,"boundary-numbers":!0},null,8,["modelValue","max"])])])),_:1})}var i=t(217),c=t(6005),m=t(1280);const d={components:{CardKinopoisk:c.Z,CardLoader:m.Z},setup(){const a="TOP_250_BEST_FILMS",{loading:e,error:t,films:o,totalPage:l,current:n}=(0,i.O)(a);return console.log(o),{current:n,loading:e,error:t,films:o,totalPage:l}}};var u=t(4379),p=t(7300),g=t(7518),f=t.n(g);d.render=r;const v=d;f()(d,"components",{QPage:u.Z,QPagination:p.Z})}}]);