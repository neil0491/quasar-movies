(self["webpackChunkquasar_movies"]=self["webpackChunkquasar_movies"]||[]).push([[716],{217:(a,e,t)=>{"use strict";t.d(e,{O:()=>r});var n=t(52),l=t.n(n),o=t(1959),s=t(3673);function r(a){const e=(0,o.iH)(!1),t=(0,o.iH)(!1),n=(0,o.iH)(0),r=(0,o.iH)(1),i=(0,o.qj)((0,o.iH)(null)),c=async o=>{try{e.value=!0;const t=await l().get(`https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=${a}&page=${o}`,{headers:{"Content-Type":"application/json","X-API-KEY":"1220afbe-7495-4b15-b248-073dbf409499"}});i.value=t.data.films,n.value=t.data.pagesCount}catch(t){t.value=!0}finally{e.value=!1}};return(0,s.bv)(c(r.value)),(0,s.YP)(r,c),{loading:e,error:t,films:i,totalPage:n,current:r,loadData:c}}},7731:(a,e,t)=>{"use strict";t.d(e,{Z:()=>v});var n=t(3673),l=t(2323);const o={class:"q-pa-md"},s={class:"row items-start q-col-gutter-md"},r={class:"absolute-bottom blur-bg"},i={class:"text-capacitor btn-link"};function c(a,e,t,c,d,m){const u=(0,n.up)("q-card-actions"),p=(0,n.up)("q-img"),g=(0,n.up)("q-card");return(0,n.wg)(),(0,n.j4)("div",o,[(0,n.Wm)("div",s,[((0,n.wg)(!0),(0,n.j4)(n.HY,null,(0,n.Ko)(a.films,(e=>((0,n.wg)(),(0,n.j4)("div",{class:"col-12 col-sm-6 col-md-4 col-lg-2",key:e.filmId},[(0,n.Wm)("div",{onClick:t=>a.handleFilm(e.filmId)},[(0,n.Wm)(g,{class:"my-card"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{height:"350px",alt:e.ru_title,loading:"lazy","spinner-color":"accent",src:e.posterUrlPreview},{default:(0,n.w5)((()=>[(0,n.Wm)("div",r,[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)("div",i,(0,l.zw)(e.nameRu)+" / "+(0,l.zw)(e.nameEn),1)])),_:2},1024)])])),_:2},1032,["alt","src"])])),_:2},1024)],8,["onClick"])])))),128))])])}const d=(0,n.aZ)({name:"CardKinopoisk",props:["films"],methods:{handleFilm(a){this.$store.commit("kinopoiskId/SET_ID",a),this.$router.push({name:"Фильм",params:{id:a}})}}});var m=t(151),u=t(4152),p=t(9367),g=t(7518),f=t.n(g);d.render=c;const v=d;f()(d,"components",{QCard:m.Z,QImg:u.Z,QCardActions:p.Z})},7680:(a,e,t)=>{"use strict";t.d(e,{Z:()=>p});var n=t(3673);const l={class:"q-pa-md"},o={class:"row items-start q-col-gutter-md"};function s(a,e,t,s,r,i){const c=(0,n.up)("q-skeleton"),d=(0,n.up)("q-item-section"),m=(0,n.up)("q-card");return(0,n.wg)(),(0,n.j4)("div",l,[(0,n.Wm)("div",o,[((0,n.wg)(),(0,n.j4)(n.HY,null,(0,n.Ko)(20,((a,e)=>(0,n.Wm)("div",{class:"col-12 col-sm-6 col-md-4 col-lg-2",key:e},[(0,n.Wm)(m,{lass:"my-card"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{height:"350px",animation:"wave"})])),_:1})])),_:1})]))),64))])])}const r=(0,n.aZ)({name:"CardLoader"});var i=t(151),c=t(2035),d=t(4103),m=t(7518),u=t.n(m);r.render=s;const p=r;u()(r,"components",{QCard:i.Z,QItemSection:c.Z,QSkeleton:d.ZP})},7716:(a,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>v});var n=t(3673);const l={key:0},o={key:1},s={class:"q-pa-lg flex flex-center"};function r(a,e,t,r,i,c){const d=(0,n.up)("card-kinopoisk"),m=(0,n.up)("card-loader"),u=(0,n.up)("q-pagination"),p=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(p,{padding:""},{default:(0,n.w5)((()=>[!1===r.loading?((0,n.wg)(),(0,n.j4)("div",l,[(0,n.Wm)(d,{films:r.films},null,8,["films"])])):((0,n.wg)(),(0,n.j4)("div",o,[(0,n.Wm)(m)])),(0,n.Wm)("div",s,[(0,n.Wm)(u,{modelValue:r.current,"onUpdate:modelValue":e[1]||(e[1]=a=>r.current=a),color:"accent",max:r.totalPage,"max-pages":4,"boundary-numbers":!0},null,8,["modelValue","max"])])])),_:1})}var i=t(217),c=t(7731),d=t(7680);const m={components:{CardKinopoisk:c.Z,CardLoader:d.Z},setup(){const a="TOP_250_BEST_FILMS",{loading:e,error:t,films:n,totalPage:l,current:o}=(0,i.O)(a);return console.log(n),{current:o,loading:e,error:t,films:n,totalPage:l}}};var u=t(4379),p=t(7300),g=t(7518),f=t.n(g);m.render=r;const v=m;f()(m,"components",{QPage:u.Z,QPagination:p.Z})}}]);